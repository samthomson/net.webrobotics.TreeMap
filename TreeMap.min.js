function Comparator(){}var net=net||{};net.webrobotics=net.webrobotics||{};net.webrobotics.MapElement=function(a){this.key=a;this.next;this.prev;this.values=new Array;this.last=0};net.webrobotics.MapElement.prototype.getKey=function(){return this.key};net.webrobotics.MapElement.prototype.addValue=function(a){this.values[this.last]=a;this.last++};net.webrobotics.MapElement.prototype.setNext=function(a){this.next=a};net.webrobotics.MapElement.prototype.setPrev=function(a){this.prev=a};net.webrobotics.MapElement.prototype.getNext=function(){return this.next};net.webrobotics.MapElement.prototype.getPrev=function(){return this.prev};net.webrobotics.MapElement.prototype.getValues=function(){return this.values};Comparator.prototype.compare=function(a,b){if(a.getKey()<b.getKey())return-1;else if(a.getKey()>b.getKey())return 1;else return 0};net.webrobotics.TreeMap=function(a){this.elements=new Array;this.comparator=a};net.webrobotics.TreeMap.prototype.size=function(){return this.elements.length};net.webrobotics.TreeMap.prototype.last=function(){return this.elements[this.size()-1]};net.webrobotics.TreeMap.prototype.first=function(){return this.elements[0]};net.webrobotics.TreeMap.prototype.put=function(a,b){var c=new net.webrobotics.MapElement(a);c.addValue(b);if(this.size()==0){this.elements.push(c)}else if(this.last().getKey()<=a){if(this.last().getKey()<a){this.elements.push(c)}else{this.last().addValue(b)}}else if(this.first().getKey()>=a){if(this.first().getKey()<a){var d=new Array;d.push(c);d.concat(this.elements);this.elements=d}else{this.first().addValue(b)}}else{var e=this.positionOf(c);if(this.elements[e].getKey()==a){this.elements[e].addValue(b)}else{var f=new Array;f=f.concat(this.elements.slice(0,e));f.push(c);f=f.concat(this.elements.slice(e));this.elements=f}}};net.webrobotics.TreeMap.prototype.positionOf=function(a,b){if(!b)b=this.elements;var c=Math.floor((b.length-1)/2);var d=this.comparator.compare(a,b[c]);if(d==0){return c}else{if(b.length==1){if(d==-1){return 0}else{return 1}}else if(b.length==2){if(d==-1){return 0}else{return 1+this.positionOf(a,b.slice(1))}}else{if(d==-1){return this.positionOf(a,b.slice(0,c))}else{var e=b.slice(c+1);return b.length-e.length+this.positionOf(a,e)}}}};net.webrobotics.TreeMap.prototype.toArray=function(){var a=new Array;for(var b=0;b<this.elements.length;b++){var c=this.elements[b];for(var d=0;d<c.getValues().length;d++){a.push(c.getValues()[d])}}return a};net.webrobotics.TreeMap.prototype.toString=function(){var a="";for(var b=0;b<this.elements.length;b++){var c=this.elements[b];var d="";for(var e=0;e<c.getValues().length;e++){d+=c.getValues()[e]+","}a+="<"+c.getKey()+","+d+">; "}return a};net.webrobotics.TreeMap.prototype.delete=function(a){var b=this.positionOf(new net.webrobotics.MapElement(a));if(!this.elements[b]||this.elements[b].getKey()!=a)return false;var c=new Array;if(b>0){c=c.concat(this.elements.slice(0,b))}if(b<this.elements.length-1){c=c.concat(this.elements.slice(b+1))}this.elements=c;return true};net.webrobotics.TreeMap.prototype.get=function(a){var b=this.positionOf(new net.webrobotics.MapElement(a));if(!this.elements[b]||this.elements[b].getKey()!=a)return null;return this.elements[b].getValues()}